{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/savas/Downloads/agenttest/EylulSanatWeb/src/actions/auth.ts"],"sourcesContent":["'use server';\r\n\r\nimport bcrypt from 'bcryptjs';\r\nimport { createSession, deleteSession } from '@/lib/session';\r\nimport { redirect } from 'next/navigation';\r\nimport { db } from '@/lib/json-db';\r\n\r\nexport async function login(formData: FormData) {\r\n    const password = formData.get('password') as string;\r\n    const settings = await db.settings.get();\r\n    const storedHash = settings.adminPasswordHash || process.env.ADMIN_PASSWORD_HASH;\r\n\r\n    if (!storedHash) {\r\n        throw new Error('Admin password hash is not set');\r\n    }\r\n\r\n    // Development bypass ensures you can login locally easily\r\n    // In production, this block is automatically skipped\r\n    if (process.env.NODE_ENV !== 'production' && password === 'admin123') {\r\n        await createSession();\r\n        redirect('/admin');\r\n    }\r\n\r\n    const isValid = await bcrypt.compare(password, storedHash);\r\n\r\n    if (!isValid) {\r\n        return { error: 'Hatalı şifre.' };\r\n    }\r\n\r\n    await createSession();\r\n    redirect('/admin');\r\n}\r\n\r\nexport async function logout() {\r\n    await deleteSession();\r\n    redirect('/');\r\n}\r\n"],"names":[],"mappings":";;;;;;;MAiCsB,wBAAA,WAAA,GAAA,IAAA,+OAAA,EAAA,8CAAA,oOAAA,EAAA,KAAA,GAAA,0OAAA,EAAA,0CAAA"}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/savas/Downloads/agenttest/EylulSanatWeb/src/components/admin/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { LayoutDashboard, Settings, BookOpen, Image as ImageIcon, Mail, LogOut, Package } from 'lucide-react';\r\nimport { logout } from '@/actions/auth';\r\nimport clsx from 'clsx';\r\n\r\nconst links = [\r\n    { href: '/admin', label: 'Özet', icon: LayoutDashboard },\r\n    { href: '/admin/courses', label: 'Kurslar', icon: BookOpen },\r\n    { href: '/admin/products', label: 'Ürünler', icon: Package },\r\n    { href: '/admin/gallery', label: 'Galeri', icon: ImageIcon },\r\n    { href: '/admin/messages', label: 'Mesajlar', icon: Mail },\r\n    { href: '/admin/settings', label: 'Ayarlar', icon: Settings },\r\n];\r\n\r\nexport default function Sidebar() {\r\n    const pathname = usePathname();\r\n\r\n    return (\r\n        <aside className=\"w-64 bg-white border-r min-h-screen p-6 flex flex-col fixed left-0 top-0 h-full z-10\">\r\n            <div className=\"mb-10 flex items-center gap-2\">\r\n                <div className=\"w-8 h-8 bg-black rounded-lg\"></div>\r\n                <span className=\"font-bold text-xl\">Admin Panel</span>\r\n            </div>\r\n\r\n            <nav className=\"flex-1 space-y-1\">\r\n                {links.map((link) => {\r\n                    const Icon = link.icon;\r\n                    const isActive = pathname === link.href;\r\n                    return (\r\n                        <Link\r\n                            key={link.href}\r\n                            href={link.href}\r\n                            className={clsx(\r\n                                'flex items-center gap-3 px-4 py-3 rounded-lg transition-colors',\r\n                                isActive\r\n                                    ? 'bg-black text-white'\r\n                                    : 'text-gray-600 hover:bg-gray-100 hover:text-black'\r\n                            )}\r\n                        >\r\n                            <Icon size={20} />\r\n                            <span className=\"font-medium\">{link.label}</span>\r\n                        </Link>\r\n                    );\r\n                })}\r\n            </nav>\r\n\r\n            <div className=\"mt-auto pt-6 border-t border-gray-100\">\r\n                <div className=\"px-4 mb-4\">\r\n                    <a href=\"https://nerzen.com\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"bg-gray-900 p-2 rounded-lg inline-block mb-3 hover:bg-black transition-colors\">\r\n                        <img src=\"/nerzen-logo.png\" alt=\"Nerzen Bilişim\" className=\"h-4 w-auto\" />\r\n                    </a>\r\n                    <p className=\"text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1\">Destek & Yazılım</p>\r\n                    <h4 className=\"text-xs font-bold text-gray-900 mb-1\">Nerzen Bilişim Teknolojileri</h4>\r\n                    <div className=\"space-y-1 text-[10px] text-gray-500 font-medium\">\r\n                        <p className=\"leading-tight\">GMKP Mah. Özcan Sk. Anaç Apt. No:12/1 Çerkezköy</p>\r\n                        <p>+90 (282) 606 07 71</p>\r\n                        <a href=\"https://nerzen.com\" target=\"_blank\" className=\"text-blue-600 hover:underline\">www.nerzen.com</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <button\r\n                    onClick={() => logout()}\r\n                    className=\"flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors w-full\"\r\n                >\r\n                    <LogOut size={20} />\r\n                    <span className=\"font-medium\">Çıkış Yap</span>\r\n                </button>\r\n            </div>\r\n        </aside>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AANA;;;;;;;AAQA,MAAM,QAAQ;IACV;QAAE,MAAM;QAAU,OAAO;QAAQ,MAAM,+OAAe;IAAC;IACvD;QAAE,MAAM;QAAkB,OAAO;QAAW,MAAM,0NAAQ;IAAC;IAC3D;QAAE,MAAM;QAAmB,OAAO;QAAW,MAAM,mNAAO;IAAC;IAC3D;QAAE,MAAM;QAAkB,OAAO;QAAU,MAAM,6MAAS;IAAC;IAC3D;QAAE,MAAM;QAAmB,OAAO;QAAY,MAAM,0MAAI;IAAC;IACzD;QAAE,MAAM;QAAmB,OAAO;QAAW,MAAM,sNAAQ;IAAC;CAC/D;AAEc,SAAS;IACpB,MAAM,WAAW,IAAA,iJAAW;IAE5B,qBACI,8OAAC;QAAM,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAK,WAAU;kCAAoB;;;;;;;;;;;;0BAGxC,8OAAC;gBAAI,WAAU;0BACV,MAAM,GAAG,CAAC,CAAC;oBACR,MAAM,OAAO,KAAK,IAAI;oBACtB,MAAM,WAAW,aAAa,KAAK,IAAI;oBACvC,qBACI,8OAAC,uKAAI;wBAED,MAAM,KAAK,IAAI;wBACf,WAAW,IAAA,gJAAI,EACX,kEACA,WACM,wBACA;;0CAGV,8OAAC;gCAAK,MAAM;;;;;;0CACZ,8OAAC;gCAAK,WAAU;0CAAe,KAAK,KAAK;;;;;;;uBAVpC,KAAK,IAAI;;;;;gBAa1B;;;;;;0BAGJ,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAE,MAAK;gCAAqB,QAAO;gCAAS,KAAI;gCAAsB,WAAU;0CAC7E,cAAA,8OAAC;oCAAI,KAAI;oCAAmB,KAAI;oCAAiB,WAAU;;;;;;;;;;;0CAE/D,8OAAC;gCAAE,WAAU;0CAAqE;;;;;;0CAClF,8OAAC;gCAAG,WAAU;0CAAuC;;;;;;0CACrD,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAE,WAAU;kDAAgB;;;;;;kDAC7B,8OAAC;kDAAE;;;;;;kDACH,8OAAC;wCAAE,MAAK;wCAAqB,QAAO;wCAAS,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;kCAI/F,8OAAC;wBACG,SAAS,IAAM,IAAA,gKAAM;wBACrB,WAAU;;0CAEV,8OAAC,oNAAM;gCAAC,MAAM;;;;;;0CACd,8OAAC;gCAAK,WAAU;0CAAc;;;;;;;;;;;;;;;;;;;;;;;;AAKlD"}}]
}