{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/savas/Downloads/agenttest/EylulSanatWeb/src/actions/messages.ts"],"sourcesContent":["'use server';\r\n\r\nimport { db } from '@/lib/json-db';\r\nimport { Message } from '@/types';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { revalidatePath } from 'next/cache';\r\n\r\nimport nodemailer from 'nodemailer';\r\n\r\nexport async function sendMessage(formData: FormData) {\r\n    const settings = await db.settings.get();\r\n    const name = formData.get('name') as string;\r\n    const email = formData.get('email') as string || 'Belirtilmedi';\r\n    const phone = formData.get('phone') as string || 'Belirtilmedi';\r\n    const messageContent = formData.get('message') as string;\r\n\r\n    if (!name || !messageContent) {\r\n        throw new Error('Lütfen zorunlu alanları doldurun (Ad ve Mesaj).');\r\n    }\r\n\r\n    const newMessage: Message = {\r\n        id: uuidv4(),\r\n        name,\r\n        email,\r\n        phone,\r\n        message: messageContent,\r\n        createdAt: new Date().toISOString(),\r\n        isRead: false\r\n    };\r\n\r\n    await db.messages.add(newMessage);\r\n\r\n    // E-posta Gönderimi (Opsiyonel SMTP Ayarları ile)\r\n    try {\r\n        const transporter = nodemailer.createTransport({\r\n            host: process.env.SMTP_HOST,\r\n            port: Number(process.env.SMTP_PORT),\r\n            secure: process.env.SMTP_PORT === '465',\r\n            auth: {\r\n                user: process.env.SMTP_USER,\r\n                pass: process.env.SMTP_PASS,\r\n            },\r\n        });\r\n\r\n        const mailOptions = {\r\n            from: process.env.SMTP_USER,\r\n            to: settings.contact.email, // Ayarlardaki e-posta adresine gönder\r\n            subject: `Yeni Mesaj: ${name}`,\r\n            text: `\r\n                Yeni bir iletişim formu mesajınız var:\r\n                \r\n                Ad Soyad: ${name}\r\n                E-posta: ${email}\r\n                Telefon: ${phone}\r\n                Mesaj: ${messageContent}\r\n                 Tarih: ${new Date().toLocaleDateString('tr-TR')}\r\n            `,\r\n        };\r\n\r\n        if (process.env.SMTP_HOST) {\r\n            await transporter.sendMail(mailOptions);\r\n        }\r\n    } catch (error) {\r\n        console.error('E-posta gönderim hatası:', error);\r\n    }\r\n\r\n    revalidatePath('/admin/messages');\r\n}\r\n\r\nexport async function deleteMessage(id: string) {\r\n    const messages = await db.messages.getAll();\r\n    const filteredMessages = messages.filter(m => m.id !== id);\r\n    await db.messages.updateAll(filteredMessages);\r\n    revalidatePath('/admin/messages');\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AACA;AAEA;;;;;;;AAEO,eAAe,YAAY,QAAkB;IAChD,MAAM,WAAW,MAAM,8HAAE,CAAC,QAAQ,CAAC,GAAG;IACtC,MAAM,OAAO,SAAS,GAAG,CAAC;IAC1B,MAAM,QAAQ,SAAS,GAAG,CAAC,YAAsB;IACjD,MAAM,QAAQ,SAAS,GAAG,CAAC,YAAsB;IACjD,MAAM,iBAAiB,SAAS,GAAG,CAAC;IAEpC,IAAI,CAAC,QAAQ,CAAC,gBAAgB;QAC1B,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,aAAsB;QACxB,IAAI,IAAA,iLAAM;QACV;QACA;QACA;QACA,SAAS;QACT,WAAW,IAAI,OAAO,WAAW;QACjC,QAAQ;IACZ;IAEA,MAAM,8HAAE,CAAC,QAAQ,CAAC,GAAG,CAAC;IAEtB,kDAAkD;IAClD,IAAI;QACA,MAAM,cAAc,0JAAU,CAAC,eAAe,CAAC;YAC3C,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,MAAM,OAAO,QAAQ,GAAG,CAAC,SAAS;YAClC,QAAQ,QAAQ,GAAG,CAAC,SAAS,KAAK;YAClC,MAAM;gBACF,MAAM,QAAQ,GAAG,CAAC,SAAS;gBAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC/B;QACJ;QAEA,MAAM,cAAc;YAChB,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,IAAI,SAAS,OAAO,CAAC,KAAK;YAC1B,SAAS,CAAC,YAAY,EAAE,MAAM;YAC9B,MAAM,CAAC;;;0BAGO,EAAE,KAAK;yBACR,EAAE,MAAM;yBACR,EAAE,MAAM;uBACV,EAAE,eAAe;wBAChB,EAAE,IAAI,OAAO,kBAAkB,CAAC,SAAS;YACrD,CAAC;QACL;QAEA,IAAI,QAAQ,GAAG,CAAC,SAAS,EAAE;YACvB,MAAM,YAAY,QAAQ,CAAC;QAC/B;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,4BAA4B;IAC9C;IAEA,IAAA,+IAAc,EAAC;AACnB;AAEO,eAAe,cAAc,EAAU;IAC1C,MAAM,WAAW,MAAM,8HAAE,CAAC,QAAQ,CAAC,MAAM;IACzC,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IACvD,MAAM,8HAAE,CAAC,QAAQ,CAAC,SAAS,CAAC;IAC5B,IAAA,+IAAc,EAAC;AACnB;;;IAjEsB;IA4DA;;AA5DA,+OAAA;AA4DA,+OAAA"}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/savas/Downloads/agenttest/EylulSanatWeb/src/app/%28site%29/iletisim/page.tsx"],"sourcesContent":["import { db } from '@/lib/json-db';\r\nimport { sendMessage } from '@/actions/messages';\r\n\r\nexport const metadata = {\r\n    title: 'İletişim | Eylül Sanat Atölyesi',\r\n    description: 'Bizimle iletişime geçin. Adres, telefon ve iletişim formu.',\r\n};\r\n\r\nexport default async function ContactPage() {\r\n    const settings = await db.settings.get();\r\n\r\n    async function handleSubmit(formData: FormData) {\r\n        'use server';\r\n        await sendMessage(formData);\r\n    }\r\n\r\n    return (\r\n        <div className=\"pt-32 pb-24 bg-[#F9F9F9] min-h-screen\">\r\n            <div className=\"container mx-auto px-6\">\r\n                <h1 className=\"text-4xl md:text-5xl font-serif font-bold mb-6 text-center\">İletişim</h1>\r\n                <p className=\"text-center text-gray-500 max-w-xl mx-auto mb-16\">\r\n                    Sorularınız, kayıt işlemleri veya işbirlikleri için bize dilediğiniz zaman ulaşabilirsiniz.\r\n                </p>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto\">\r\n                    {/* Info */}\r\n                    <div className=\"bg-black text-white p-12 rounded-3xl flex flex-col justify-between h-full\">\r\n                        <div className=\"space-y-12\">\r\n                            <div>\r\n                                <h3 className=\"text-lg font-medium text-gray-400 mb-2\">Adres</h3>\r\n                                <p className=\"text-xl leading-relaxed whitespace-pre-line\">{settings.contact.address}</p>\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-lg font-medium text-gray-400 mb-2\">E-posta</h3>\r\n                                <p className=\"text-xl\">{settings.contact.email}</p>\r\n                            </div>\r\n                            <div>\r\n                                <h3 className=\"text-lg font-medium text-gray-400 mb-2\">Telefon</h3>\r\n                                <p className=\"text-2xl font-serif\">{settings.contact.phone}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"mt-12\">\r\n                            <div className=\"flex gap-4\">\r\n                                {settings.socials.instagram && (\r\n                                    <a href={settings.socials.instagram} target=\"_blank\" className=\"hover:text-gray-400 transition underline\">Instagram</a>\r\n                                )}\r\n                                {settings.socials.facebook && (\r\n                                    <a href={settings.socials.facebook} target=\"_blank\" className=\"hover:text-gray-400 transition underline\">Facebook</a>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Form */}\r\n                    <div className=\"bg-white p-12 rounded-3xl shadow-sm border border-gray-100\">\r\n                        <form action={sendMessage} className=\"space-y-6\">\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Ad Soyad</label>\r\n                                    <input name=\"name\" type=\"text\" required className=\"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-black outline-none transition\" placeholder=\"Adınız Soyadınız\" />\r\n                                </div>\r\n                                <div>\r\n                                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Telefon</label>\r\n                                    <input name=\"phone\" type=\"tel\" className=\"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-black outline-none transition\" placeholder=\"05XX XXX XX XX\" />\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">E-posta (Opsiyonel)</label>\r\n                                <input name=\"email\" type=\"email\" className=\"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-black outline-none transition\" placeholder=\"ornek@email.com\" />\r\n                            </div>\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Mesajınız</label>\r\n                                <textarea name=\"message\" required rows={5} className=\"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl focus:ring-2 focus:ring-black outline-none transition\" placeholder=\"Mesajınızı buraya yazın...\"></textarea>\r\n                            </div>\r\n                            <button type=\"submit\" className=\"w-full py-4 bg-black text-white font-medium rounded-xl hover:bg-gray-800 transition shadow-lg\">\r\n                                Gönder\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Map Section */}\r\n                {settings.contact.mapUrl && (\r\n                    <div className=\"mt-24 rounded-3xl overflow-hidden h-[450px] shadow-sm border border-gray-100\">\r\n                        <iframe\r\n                            src={settings.contact.mapUrl}\r\n                            width=\"100%\"\r\n                            height=\"100%\"\r\n                            style={{ border: 0 }}\r\n                            allowFullScreen\r\n                            loading=\"lazy\"\r\n                            referrerPolicy=\"no-referrer-when-downgrade\"\r\n                        ></iframe>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;+HAAA;AACA;;;;;AAEO,MAAM,WAAW;IACpB,OAAO;IACP,aAAa;AACjB;MAKI,wBAAA,eAAe,aAAa,QAAkB;IAE1C,MAAM,IAAA,yIAAW,EAAC;AACtB;+OAHA;AAHW,eAAe;IAC1B,MAAM,WAAW,MAAM,8HAAE,CAAC,QAAQ,CAAC,GAAG;QAEvB,eAAf;IAKA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAG,WAAU;8BAA6D;;;;;;8BAC3E,8OAAC;oBAAE,WAAU;8BAAmD;;;;;;8BAIhE,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;;8DACG,8OAAC;oDAAG,WAAU;8DAAyC;;;;;;8DACvD,8OAAC;oDAAE,WAAU;8DAA+C,SAAS,OAAO,CAAC,OAAO;;;;;;;;;;;;sDAExF,8OAAC;;8DACG,8OAAC;oDAAG,WAAU;8DAAyC;;;;;;8DACvD,8OAAC;oDAAE,WAAU;8DAAW,SAAS,OAAO,CAAC,KAAK;;;;;;;;;;;;sDAElD,8OAAC;;8DACG,8OAAC;oDAAG,WAAU;8DAAyC;;;;;;8DACvD,8OAAC;oDAAE,WAAU;8DAAuB,SAAS,OAAO,CAAC,KAAK;;;;;;;;;;;;;;;;;;8CAGlE,8OAAC;oCAAI,WAAU;8CACX,cAAA,8OAAC;wCAAI,WAAU;;4CACV,SAAS,OAAO,CAAC,SAAS,kBACvB,8OAAC;gDAAE,MAAM,SAAS,OAAO,CAAC,SAAS;gDAAE,QAAO;gDAAS,WAAU;0DAA2C;;;;;;4CAE7G,SAAS,OAAO,CAAC,QAAQ,kBACtB,8OAAC;gDAAE,MAAM,SAAS,OAAO,CAAC,QAAQ;gDAAE,QAAO;gDAAS,WAAU;0DAA2C;;;;;;;;;;;;;;;;;;;;;;;sCAOzH,8OAAC;4BAAI,WAAU;sCACX,cAAA,8OAAC;gCAAK,QAAQ,yIAAW;gCAAE,WAAU;;kDACjC,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;;kEACG,8OAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,8OAAC;wDAAM,MAAK;wDAAO,MAAK;wDAAO,QAAQ;wDAAC,WAAU;wDAAwG,aAAY;;;;;;;;;;;;0DAE1K,8OAAC;;kEACG,8OAAC;wDAAM,WAAU;kEAA+C;;;;;;kEAChE,8OAAC;wDAAM,MAAK;wDAAQ,MAAK;wDAAM,WAAU;wDAAwG,aAAY;;;;;;;;;;;;;;;;;;kDAGrK,8OAAC;;0DACG,8OAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,8OAAC;gDAAM,MAAK;gDAAQ,MAAK;gDAAQ,WAAU;gDAAwG,aAAY;;;;;;;;;;;;kDAEnK,8OAAC;;0DACG,8OAAC;gDAAM,WAAU;0DAA+C;;;;;;0DAChE,8OAAC;gDAAS,MAAK;gDAAU,QAAQ;gDAAC,MAAM;gDAAG,WAAU;gDAAwG,aAAY;;;;;;;;;;;;kDAE7K,8OAAC;wCAAO,MAAK;wCAAS,WAAU;kDAAgG;;;;;;;;;;;;;;;;;;;;;;;gBAQ3I,SAAS,OAAO,CAAC,MAAM,kBACpB,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBACG,KAAK,SAAS,OAAO,CAAC,MAAM;wBAC5B,OAAM;wBACN,QAAO;wBACP,OAAO;4BAAE,QAAQ;wBAAE;wBACnB,eAAe;wBACf,SAAQ;wBACR,gBAAe;;;;;;;;;;;;;;;;;;;;;;AAO3C"}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/savas/Downloads/agenttest/EylulSanatWeb/.next-internal/server/app/%28site%29/iletisim/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {$$RSC_SERVER_ACTION_0 as '40cec5907ffd046468a96caa17d5d72c56e6c83b54'} from 'ACTIONS_MODULE0'\nexport {deleteMessage as '40682ff682ee3bcb67ca95e95c11e07bb6f66518cc'} from 'ACTIONS_MODULE1'\nexport {sendMessage as '40e1d0a761d0243634382c1edc47202f34b69d4ea5'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}}]
}