{"version":3,"sources":["../../../../src/lib/json-db.ts","turbopack:///[next]/internal/font/google/playfair_display_fed1534a.module.css [app-rsc] (css module)","turbopack:///[next]/internal/font/google/montserrat_c5a0b145.module.css [app-rsc] (css module)","turbopack:///[next]/internal/font/google/playfair_display_fed1534a.js","turbopack:///[next]/internal/font/google/montserrat_c5a0b145.js","../../../../node_modules/clsx/dist/clsx.mjs","../../../../src/app/layout.tsx"],"sourcesContent":["import fs from 'fs/promises';\r\nimport path from 'path';\r\nimport { Course, GalleryItem, Message, Settings, Product } from '@/types';\r\n\r\n// Veri dosyaları src/data değil proje kökündeki database/ klasöründe tutulur.\r\n// Bu sayede cPanel'e yeni kod yüklenince data dosyaları üzerine yazılmaz.\r\nconst DATA_DIR = path.join(process.cwd(), 'database');\r\n\r\n// Generic helper to read JSON files\r\nasync function readJSON<T>(filename: string): Promise<T> {\r\n    const filePath = path.join(DATA_DIR, filename);\r\n    try {\r\n        const data = await fs.readFile(filePath, 'utf-8');\r\n        return JSON.parse(data) as T;\r\n    } catch (error) {\r\n        console.error(`Error reading ${filename}:`, error);\r\n        throw new Error(`Failed to read database: ${filename}`);\r\n    }\r\n}\r\n\r\n// Generic helper to write JSON files\r\nasync function writeJSON<T>(filename: string, data: T): Promise<void> {\r\n    const filePath = path.join(DATA_DIR, filename);\r\n    try {\r\n        // Write with pretty printing for readability\r\n        await fs.writeFile(filePath, JSON.stringify(data, null, 2), 'utf-8');\r\n    } catch (error) {\r\n        console.error(`Error writing ${filename}:`, error);\r\n        throw new Error(`Failed to write database: ${filename}`);\r\n    }\r\n}\r\n\r\n// Database API\r\nexport const db = {\r\n    settings: {\r\n        get: () => readJSON<Settings>('settings.json'),\r\n        update: (data: Settings) => writeJSON<Settings>('settings.json', data),\r\n    },\r\n    courses: {\r\n        getAll: () => readJSON<Course[]>('courses.json'),\r\n        updateAll: (data: Course[]) => writeJSON<Course[]>('courses.json', data),\r\n    },\r\n    products: {\r\n        getAll: () => readJSON<Product[]>('products.json'),\r\n        updateAll: (data: Product[]) => writeJSON<Product[]>('products.json', data),\r\n    },\r\n    gallery: {\r\n        getAll: () => readJSON<GalleryItem[]>('gallery.json'),\r\n        updateAll: (data: GalleryItem[]) => writeJSON<GalleryItem[]>('gallery.json', data),\r\n    },\r\n    messages: {\r\n        getAll: () => readJSON<Message[]>('messages.json'),\r\n        add: async (msg: Message) => {\r\n            const messages = await readJSON<Message[]>('messages.json');\r\n            messages.push(msg);\r\n            await writeJSON<Message[]>('messages.json', messages);\r\n        },\r\n        updateAll: (data: Message[]) => writeJSON<Message[]>('messages.json', data),\r\n    },\r\n};\r\n","__turbopack_context__.v({\n  \"className\": \"playfair_display_fed1534a-module__F9WnGq__className\",\n  \"variable\": \"playfair_display_fed1534a-module__F9WnGq__variable\",\n});\n","__turbopack_context__.v({\n  \"className\": \"montserrat_c5a0b145-module__19wr9q__className\",\n  \"variable\": \"montserrat_c5a0b145-module__19wr9q__variable\",\n});\n","import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Playfair_Display%22,%22arguments%22:[{%22subsets%22:[%22latin%22],%22variable%22:%22--font-playfair%22,%22display%22:%22swap%22}],%22variableName%22:%22playfair%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Playfair Display', 'Playfair Display Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n","import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Montserrat%22,%22arguments%22:[{%22subsets%22:[%22latin%22],%22variable%22:%22--font-montserrat%22,%22display%22:%22swap%22}],%22variableName%22:%22montserrat%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Montserrat', 'Montserrat Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import type { Metadata } from 'next';\nimport { Playfair_Display, Montserrat } from 'next/font/google';\nimport './globals.css';\nimport clsx from 'clsx';\n\nconst playfair = Playfair_Display({\n  subsets: ['latin'],\n  variable: '--font-playfair',\n  display: 'swap',\n});\n\nconst montserrat = Montserrat({\n  subsets: ['latin'],\n  variable: '--font-montserrat',\n  display: 'swap',\n});\n\nimport { db } from '@/lib/json-db';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const settings = await db.settings.get();\n\n  return {\n    metadataBase: new URL('https://eylulsanatatolyesi.com.tr'),\n    title: {\n      default: settings.siteTitle,\n      template: `%s | ${settings.siteTitle}`\n    },\n    description: settings.siteDescription,\n    icons: {\n      icon: settings.logo || '/favicon.ico',\n      apple: settings.logo || '/favicon.ico',\n    },\n  };\n}\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  return (\n    <html lang=\"tr\" className={clsx(playfair.variable, montserrat.variable)}>\n      <body className=\"font-sans antialiased bg-[#F9F9F9] text-[#333333]\">\n        {children}\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":"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","ignoreList":[1,2,3,4,5]}