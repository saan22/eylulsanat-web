module.exports=[37936,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(11857)},54799,(a,b,c)=>{b.exports=a.x("crypto",()=>require("crypto"))},13095,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},24868,(a,b,c)=>{b.exports=a.x("fs/promises",()=>require("fs/promises"))},30545,a=>{"use strict";var b=a.i(37936),c=a.i(24868),d=a.i(14747),e=a.i(53878);async function f(a){let b=a.get("file");if(!b)throw Error("Dosya seçilmedi");let f=await b.arrayBuffer(),g=Buffer.from(f);if(!b.type.startsWith("image/"))throw Error("Sadece resim dosyaları yüklenebilir");let h=(0,e.v4)(),i=b.name.replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]/gi,"_").toLowerCase(),j=b.name.split(".").pop(),k=`${i}-${h}.${j}`,l=(0,d.join)(process.cwd(),"public","uploads");try{await (0,c.mkdir)(l,{recursive:!0})}catch(a){}let m=(0,d.join)(l,k);return await (0,c.writeFile)(m,g),`/uploads/${k}`}(0,a.i(13095).ensureServerEntryExports)([f]),(0,b.registerServerReference)(f,"40f282f1b7f6ba2f9131f89b460fc154dd7302e6d3",null),a.s(["uploadImage",()=>f])},89726,a=>{"use strict";var b=a.i(63707),c=a.i(30545),d=a.i(37936),e=a.i(48410),f=a.i(53878),g=a.i(18558);async function h(a){let b=a.get("image"),c=a.get("title"),d=a.get("category");if(!b)throw Error("Resim yüklenmedi");let h={id:(0,f.v4)(),src:b,title:c,category:d},i=await e.db.gallery.getAll();i.push(h),await e.db.gallery.updateAll(i),(0,g.revalidatePath)("/admin/gallery")}async function i(a){let b=await e.db.gallery.getAll();b=b.filter(b=>b.id!==a),await e.db.gallery.updateAll(b),(0,g.revalidatePath)("/admin/gallery")}(0,a.i(13095).ensureServerEntryExports)([h,i]),(0,d.registerServerReference)(h,"4051f45c74dd1fd142cf39bdc40491b5940b26dd68",null),(0,d.registerServerReference)(i,"4007614a188d548d0f21e076502b008d5f0b51d1f5",null),a.s([],97314),a.i(97314),a.s(["0045e9b9d28bc56362bae83ded660aa300f0f050e3",()=>b.logout,"4007614a188d548d0f21e076502b008d5f0b51d1f5",()=>i,"4051f45c74dd1fd142cf39bdc40491b5940b26dd68",()=>h,"40f282f1b7f6ba2f9131f89b460fc154dd7302e6d3",()=>c.uploadImage],89726)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__46658471._.js.map